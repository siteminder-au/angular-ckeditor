!function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):b(angular)}(this,function(a){function b(a,b){var c;return c=a.hasAttribute("contenteditable")&&"true"==a.getAttribute("contenteditable").toLowerCase()?CKEDITOR.inline(a,b):CKEDITOR.replace(a,b)}function c(a,c){return{restrict:"A",require:["ckeditor","ngModel"],controller:["$scope","$element","$attrs","$parse","$q",d],link:function(d,f,g,h){var i=h[0];i.modelController=h[1];var j=function(){["dataReady","change","blur","saveSnapshot","key"].forEach(function(a){i.onCKEvent(a,function(){i.modelController.$setViewValue(i.instance.getData()||"")})}),i.instance.setReadOnly(!!g.readonly),g.$observe("readonly",function(a){i.instance.setReadOnly(!!a)}),e(function(){a(g.ready)(d)})};i.ready().then(function(){j()}),i.modelController.$render=function(){i.ready().then(function(){i.instance.setData(i.modelController.$viewValue||"")})},d.$on("recreate-ckeditor",function(){var c=a(g.ckeditor)(d)||{};i.instance=b(f[0],c),i.instance.on("instanceReady",function(){i.readyDeferred.resolve(!0)}),i.ready().then(function(){j()})}),d.$on("destroy-ckeditor",function(){i.instance.destroy(!1),i.instance=null,i.readyDeferred=c.defer()})}}}function d(a,c,d,f,g){var h,i,j=f(d.ckeditor)(a)||{},k=c[0];i=this.readyDeferred=g.defer(),h=this.instance=b(k,j),this.onCKEvent=function(b,c){function d(){var a=arguments;e(function(){f.apply(null,a)})}function f(){var b=arguments;a.$apply(function(){c.apply(null,b)})}return this.instance.on(b,d),function(){h.removeListener(b,f)}},this.onCKEvent("instanceReady",function(){i.resolve(!0)}),this.ready=function(){return this.readyDeferred.promise},a.$on("$destroy",function(){i.promise.then(function(){h.destroy(!1)})})}a.module("ckeditor",[]).directive("ckeditor",["$parse","$q",c]);var e=window&&window.setImmediate?window.setImmediate:function(a){setTimeout(a,0)}});
//# sourceMappingURL=angular-ckeditor.min.map